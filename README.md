# Суточный рапорт - Локальная веб-форма

Одностраничное приложение для заполнения формы суточного рапорта с функциями предварительного просмотра, автосохранения и экспорта в PDF.

## Возможности

- ✅ **Многошаговый интерфейс** - удобная навигация по шагам заполнения
- ✅ **Валидация полей** - проверка обязательных полей и корректности данных
- ✅ **Автосохранение** - автоматическое сохранение изменений с задержкой
- ✅ **Управление черновиками** - сохранение, восстановление и очистка черновиков
- ✅ **Предварительный просмотр** - точное отображение итогового документа
- ✅ **Экспорт в PDF** - генерация PDF-файла высокого качества
- ✅ **Загрузка файлов** - прикрепление изображений и документов
- ✅ **Локальное хранение** - данные остаются на устройстве пользователя
- ✅ **Адаптивный дизайн** - работает на различных устройствах
- ✅ **Печать** - оптимизированные стили для печати

## Как использовать

### 1. Запуск приложения

Просто откройте файл `index.html` в браузере Chrome:

1. Скачайте все файлы проекта в одну папку
2. Двойным кликом откройте `index.html`
3. Или перетащите файл в окно браузера Chrome

### 2. Заполнение формы

**Шаг 1: Личные данные**
- ФИО (обязательно)
- Звание (обязательно)
- Должность (обязательно)
- Подразделение (обязательно)

**Шаг 2: Служебная информация**
- Дата рапорта (обязательно)
- Тип службы (обязательно)
- Время заступления и окончания
- Место несения службы

**Шаг 3: Дополнительная информация**
- Происшествия и особые отметки
- Состояние оборудования
- Погодные условия
- Приложения (файлы)
- Дополнительные замечания

### 3. Сохранение и восстановление

- **Автосохранение**: происходит автоматически через 1.5 секунды после изменения полей
- **Ручное сохранение**: кнопка "Сохранить черновик"
- **Восстановление**: при повторном открытии приложения предлагается восстановить незавершенный черновик

### 4. Предварительный просмотр и экспорт

- После заполнения всех обязательных полей нажмите "Предпросмотр"
- Проверьте корректность данных
- При необходимости вернитесь к редактированию
- Экспортируйте документ в PDF или отправьте/завершите заполнение

## Структура файлов

```
Суточный рапорт/
├── index.html          # Основная HTML-страница
├── styles.css          # Стили оформления
├── app.js              # Главная логика приложения
├── storageAdapter.js   # Адаптер для работы с локальным хранилищем
└── README.md           # Данная инструкция
```

## Технические особенности

### Хранение данных

- **localStorage**: для небольших форм (до ~5MB)
- **IndexedDB**: автоматическое переключение при превышении лимитов
- **Файлы**: конвертируются в base64 и сохраняются локально

### Совместимость

- **Браузеры**: Chrome (рекомендуется), Edge, Firefox, Safari
- **Устройства**: настольные компьютеры, планшеты
- **ОС**: Windows, macOS, Linux

### Безопасность

- Все данные сохраняются только локально на устройстве пользователя
- Нет передачи данных на внешние серверы
- Автоматическая очистка старых черновиков (настраивается)

## Устранение неполадок

### Проблемы с сохранением

1. Проверьте, что в браузере включено локальное хранилище
2. Освободите место на диске
3. Проверьте настройки приватности браузера

### Проблемы с PDF

1. Убедитесь, что браузер поддерживает современные веб-технологии
2. Отключите блокировщики рекламы/скриптов
3. Попробуйте обновить страницу и повторить экспорт

### Проблемы с файлами

1. Проверьте размер загружаемых файлов (рекомендуется до 10MB)
2. Используйте поддерживаемые форматы: JPG, PNG, PDF, DOC, DOCX
3. При больших файлах приложение автоматически переключится на IndexedDB

## Дополнительные возможности

### Горячие клавиши

- `Tab` / `Shift+Tab`: навигация по полям
- `Enter`: переход к следующему шагу (при валидной форме)
- `Escape`: закрытие модальных окон

### Экспорт/импорт черновиков

В адаптере хранения предусмотрены методы для экспорта и импорта данных:

```javascript
// Экспорт всех черновиков
const exportData = await window.storageAdapter.exportData();

// Импорт черновиков
await window.storageAdapter.importData(jsonData);
```

### Очистка старых данных

Автоматическая очистка черновиков старше 30 дней:

```javascript
await window.storageAdapter.cleanupOldDrafts(30);
```

## Разработка и модификация

### Добавление новых полей

1. Добавьте поле в соответствующий шаг в `index.html`
2. Обновите валидацию в методе `validateStep()` в `app.js`
3. Добавьте отображение в методе `generatePreview()` в `app.js`

### Изменение стилей

Основные настройки находятся в начале файла `styles.css`:

- Цвета: переменные CSS для легкой кастомизации
- Размеры: адаптивные единицы для различных экранов
- Анимации: настраиваемые transition и animation

### Добавление новых шагов

1. Добавьте новый шаг в HTML с атрибутом `data-step`
2. Обновите `maxSteps` в `app.js`
3. Добавьте соответствующий элемент в прогресс-бар

## Лицензия

Свободное использование для личных и коммерческих целей.

## Поддержка

При возникновении вопросов или проблем:

1. Проверьте консоль браузера (F12) на наличие ошибок
2. Убедитесь, что все файлы проекта находятся в одной папке
3. Попробуйте открыть приложение в режиме инкогнито

---

**Версия**: 1.0  
**Последнее обновление**: $(Get-Date)  
**Совместимость**: Chrome 88+, Edge 88+, Firefox 85+, Safari 14+